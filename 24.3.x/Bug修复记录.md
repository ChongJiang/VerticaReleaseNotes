# 24.3.0-1
_Updated 08/12/2024_

| Issue Key | Component        | Description                                                                                                                                                                                                                 | 描述                                                                    |
| --------- | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------- |
| VER-95247 | Optimizer        | FKPK Joins over projections with derived expressions would put PK input on the Inner side, even when it was much bigger than FK input, which resulted in worse performance in some scenarios. This issue has been resolved. | 使用派生表达式对投影进行 FKPK 连接会将 PK 输入放在内侧，即使它比 FK 输入大得多，这在某些情况下会导致性能下降。此问题已解决。 |
| VER-95548 | Execution Engine | An issue that caused a crash while using WITHIN GROUP () function with listagg has been fixed.                                                                                                                              | 使用 WITHIN GROUP () 函数与 listagg 时导致崩溃的问题已修复。                           |
| VER-95660 | Execution Engine | Due to a bug in the numeric division code, users would get a wrong result when evaluating the mod operator on some numeric values with large precision. This issue has been resolved.                                       | 由于数字除法代码中存在错误，用户在对某些精度较高的数值评估 mod 运算符时会得到错误的结果。此问题已解决。                |

# 24.3.0-0
_Updated 07/26/2024_

| Issue Key | Component                       | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 描述                                                                                                                                                                                                                                                                                                                               |
| --------- | ------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| VER-68811 | Optimizer                       | Previously, the row count was estimated for this query using the many-to-1 join logic because anti-join was not checked until later in the process. Now, estimating the cardinality for anti-join is correctly applied in this situation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | 以前，使用多对一连接逻辑来估计此查询的行数，因为直到过程的后期才检查反连接。现在，在这种情况下可以正确应用估计反连接的基数。                                                                                                                                                                                                                                                                   |
| VER-87781 | Admin Tools                     | Admintools was returning a strange error message. This has been fixed by adding a check guard at the place that was returning the strange log information, and additionally adding more logs for cross checking.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Admintools 返回了一条奇怪的错误消息。已通过在返回奇怪日志信息的地方添加检查保护并另外添加更多日志进行交叉检查来解决此问题。                                                                                                                                                                                                                                                              |
| VER-88219 | Optimizer                       | If ARGMAX_AGG and DISTINCT were both used in a query, an internal error was raised. This issue has been resolved. Now, this case raises an unsupported error message that includes a hint on how to rework the SQL query to avoid the error.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 如果在查询中同时使用了 ARGMAX_AGG 和 DISTINCT，则会引发内部错误。此问题已解决。现在，这种情况会引发一条不受支持的错误消息，其中包含有关如何重新执行 SQL 查询以避免错误的提示。                                                                                                                                                                                                                             |
| VER-91425 | FlexTable                       | The copy of multiple json files to Vertica table using fjsonparser() is successful now, which was causing the initiator node down issue before this fix.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 现在，使用 fjsonparser() 将多个 json 文件复制到 Vertica 表已成功，这在修复之前会导致启动器节点关闭问题。                                                                                                                                                                                                                                                              |
| VER-91661 | Execution Engine                | If the bounds provided by table statistics are out of order (low bound > high bound) and one of the bounds is 0, division expression analysis can result in a crash. This is likely caused by bad data. This issue has been resolved. Now, integrity checks have been added so that if the bounds provided are out of order, a warning is reported and the out-of-order section of the table's range is considered unbounded.                                                                                                                                                                                                                                                                                                                                            | 如果表统计信息提供的边界无序（低边界 > 高边界）并且其中一个边界为 0，则除法表达式分析可能会导致崩溃。这可能是由不良数据引起的。此问题已解决。现在，已添加完整性检查，因此如果提供的边界无序，则会报告警告，并且表范围的无序部分将被视为无界。                                                                                                                                                                                                        |
| VER-91739 | Installation: Server RPM/Deb    | The vioperf on some RHEL9 machines would OOM (out-of-memory) if run. This issue has been resolved.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 某些 RHEL9 计算机上的 vioperf 在运行时会出现 OOM（内存不足）现象。此问题已解决。                                                                                                                                                                                                                                                                               |
| VER-91760 | Installation Program            | Previously, the {{install_vertica}} script would return an error if it was unable to determine the device ID, which occurred if any file under /sys/block/{_}sd_dir{_}/dev/ was missing. This has been fixed; {{install_vertica}} now skips missing dev files, if any.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | 以前，如果 {{install_vertica}} 脚本无法确定设备 ID，则会返回错误，如果 /sys/block/{_}sd_dir{_}/dev/ 下的任何文件丢失，就会出现这种情况。此问题已修复；{{install_vertica}} 现在会跳过丢失的 dev 文件（如果有）。                                                                                                                                                                                  |
| VER-92719 | EON, S3                         | Previously, FIPS-enabled databases crashed when Vertica accessed an S3 bucket. This issue has been resolved.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 以前，当 Vertica 访问 S3 存储桶时，启用 FIPS 的数据库会崩溃。此问题已解决。                                                                                                                                                                                                                                                                                  |
| VER-92780 | Execution Engine                | Whether LIKE ANY / ALL read strings as UTF8 character sequences or binary byte arrays depended on whether the collation of the current locale was binary, leading to incorrect results when reading multi-character UTF8 strings in binary-collated locales. This has been resolved. Now, LIKE ANY / ALL always reads UTF8 character sequences, regardless of the current locale's collation.                                                                                                                                                                                                                                                                                                                                                                            | LIKE ANY / ALL 是否将字符串读取为 UTF8 字符序列或二进制字节数组取决于当前语言环境的排序规则是否为二进制，这导致在二进制排序语言环境中读取多字符 UTF8 字符串时出现错误结果。此问题已解决。现在，LIKE ANY / ALL 始终读取 UTF8 字符序列，而不管当前语言环境的排序规则如何。                                                                                                                                                                     |
| VER-92996 | ComplexTypes, Kafka Integration | Loading JSON/Avro data with Kafka and Flex parsers into tables with many columns suffered from performance degradation. The performance issue has been resolved.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 使用 Kafka 和 Flex 解析器将 JSON/Avro 数据加载到具有许多列的表中会导致性能下降。此性能问题已解决。                                                                                                                                                                                                                                                                    |
| VER-93119 | Backup/DR                       | LocalStorageLocator did not implement the construct_new() method. When called, it fell back to the StorageLocation.construct_new() method, which raised an error. This issue has been resolved. LocalStorageLocator.construct_new() is now implemented.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | LocalStorageLocator 未实现 constrain_new() 方法。调用时，它会回退到 StorageLocation.construct_new() 方法，从而引发错误。此问题已解决。现已实现 LocalStorageLocator.construct_new()。                                                                                                                                                                                  |
| VER-93162 | Kubernetes                      | A new container was published that had the security vulnerabilities resolved. The container can be found at this public repository: opentext/vertica-logger:1.0.1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 已发布一个已解决安全漏洞的新容器。可在此公共存储库中找到该容器：opentext/vertica-logger:1.0.1                                                                                                                                                                                                                                                                    |
| VER-93339 | Client Drivers - JDBC           | Previously, the JDBC driver used the com.google.gson package as packaged by the original maven build. Now the classes have been shaded under com.vertica to avoid collisions with other versions of gson packages used.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | 以前，JDBC 驱动程序使用原始 maven 构建打包的 com.google.gson 包。现在，这些类已在 com.vertica 下着色，以避免与使用的其他版本的 gson 包发生冲突。                                                                                                                                                                                                                                 |
| VER-93452 | Kafka Integration               | There's now a better log message for incompatible compression types.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | 现在针对不兼容的压缩类型有更好的日志消息。                                                                                                                                                                                                                                                                                                            |
| VER-93531 | Client Drivers - ODBC           | The Windows DSN configuration utility no longer sets _vertica_ as the default KerberosServiceName value when editing a DSN.<br><br>Starting with version 11.1, providing a value causes the ODBC driver to assume the connection is using Kerberos authentication and communicates to the server that it prefers to use that authentication method, assuming that the user has a grant to a Kerberos authentication method. The KerberosServiceName value might be set in earlier versions of Windows ODBC DSNs. Clearing the value will resolve the issue. This issue only applies to users who have a Kerberos authentication method granted with a lower priority than other authentication methods and use the DSN configuration utility to set up a DSN on Windows. | 编辑 DSN 时，Windows DSN 配置实用程序不再将 _vertica_ 设置为默认的 KerberosServiceName 值。<br><br>从版本 11.1 开始，提供一个值会导致 ODBC 驱动程序假定连接正在使用 Kerberos 身份验证，并向服务器传达它更喜欢使用该身份验证方法的信息，假定用户已获得 Kerberos 身份验证方法的授权。KerberosServiceName 值可能在早期版本的 Windows ODBC DSN 中设置。清除该值将解决该问题。此问题仅适用于具有比其他身份验证方法优先级更低的 Kerberos 身份验证方法并使用 DSN 配置实用程序在 Windows 上设置 DSN 的用户。 |
| VER-93656 | Catalog Engine                  | Removed noisy transaction distcall slow events, which could cause all transactions to be blocked when system bottleneck occurs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | 删除了嘈杂的事务 distcall 慢速事件，当系统出现瓶颈时，这些事件可能会导致所有事务被阻止。                                                                                                                                                                                                                                                                                |
| VER-93773 | Data load / COPY                | In rare cases, copying a JSON to a table using FJsonParser or KafkaJsonParser could cause the server to go down. This issue has been resolved.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 在极少数情况下，使用 FJsonParser 或 KafkaJsonParser 将 JSON 复制到表可能会导致服务器关闭。此问题已解决。                                                                                                                                                                                                                                                           |
| VER-93774 | UI - Management Console         | There is an issue with bad clusters in Management Console. This issue has been resolved. Now, the derby data is refreshed and the database is removed and again imported into Management Console.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 管理控制台中存在坏集群问题。此问题已解决。现在，derby 数据已刷新，数据库已删除并再次导入管理控制台。                                                                                                                                                                                                                                                                            |
| VER-93809 | Catalog Engine                  | Improvements to mutex profiling have been added.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 增加了对互斥分析的改进。                                                                                                                                                                                                                                                                                                                     |
| VER-93972 | Optimizer                       | When a table was queried with sampling, partition pruning was blocked because the system attempted to simultaneously reason about the original predicates and the random sampling predicate. This issue has been resolved. Now, expression analysis on the original predicates is done separately from the random sampling predicate.                                                                                                                                                                                                                                                                                                                                                                                                                                    | 当使用抽样查询表时，分区修剪被阻止，因为系统试图同时推理原始谓词和随机抽样谓词。此问题已解决。现在，对原始谓词的表达式分析与随机抽样谓词分开进行。                                                                                                                                                                                                                                                        |
| VER-94024 | Catalog Engine                  | As dc_catalog_refcounts is useful only for debugging purposes, it is disabled by default.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | 由于 dc_catalog_refcounts 仅用于调试目的，因此默认情况下它是禁用的。                                                                                                                                                                                                                                                                                    |
| VER-94030 | Basics                          | Setting SlowEventsProfilingFreq to 0 caused a cluster failure. This issue has been resolved.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 将 SlowEventsProfilingFreq 设置为 0 会导致集群故障。此问题已解决。                                                                                                                                                                                                                                                                                  |
| VER-94039 | Data load / COPY                | Vertica is now handling the null file and a null found case outside the json object with fjsonparser.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Vertica 现在使用 fjsonparser 处理 json 对象之外的空文件和空发现情况。                                                                                                                                                                                                                                                                                 |
| VER-94082 | Depot                           | Depot fetch used to call AWS list request, but now doesn't.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Depot fetch 过去用于调用 AWS 列表请求，但现在不会。                                                                                                                                                                                                                                                                                               |
| VER-94118 | Kafka Integration               | The vkconfig --refresh-interval option now functions properly. Setting it to one hour will refresh the lane worker every hour.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | vkconfig --refresh-interval 选项现在正常运行。将其设置为一小时将每小时刷新一次通道工作者。                                                                                                                                                                                                                                                                      |
| VER-94158 | Depot                           | The subcluster-level depot pin policy became the cluster-level policy after upgrading to version 23.4 or later. This issue has been resolved. For users already using version 23.4 or later, subcluster-level depot policies must be recreated.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | 升级到 23.4 或更高版本后，子集群级仓库固定策略变为集群级策略。此问题已解决。对于已经使用 23.4 或更高版本的用户，必须重新创建子集群级仓库策略。                                                                                                                                                                                                                                                    |
| VER-95476 | Tuple Mover                     | After performing a reshard database, the Tuple Mover logged a large number of PURGE requests on a projection while resharded containers exist on that projection. This issue has been resolved.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | 执行重新分片数据库后，Tuple Mover 在投影上记录了大量 PURGE 请求，而该投影上存在重新分片的容器。此问题已解决。                                                                                                                                                                                                                                                                 |
